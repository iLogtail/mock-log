# This configuration has been generated by using the
# rsyslog Configuration Builder which can be found at:
# http://www.rsyslog.com/rsyslog-configuration-builder/
#
# Default Settings
global(
workDirectory="/rsyslog"
)
# Load Modules
module(load="imfile")
module(load="omkafka")

# rsyslog Templates

# rsyslog Input Modules
input(type="imfile"
Tag="kafka"
File="/var/log/mock*/*.log"
reopenOnTruncate="on"
PersistStateInterval="10000")

action(
type="omkafka"
confParam=["compression.codec=snappy","request.required.acks=1"]
partitions.auto="on"
resubmitOnFailure="on"
topic="rsyslog_bench"
broker="192.168.1.11:7092"
)